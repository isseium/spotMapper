<!DOCTYPE html>
<html>
  <head>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://js.api.olp.yahooapis.jp/OpenLocalPlatform/V1/jsapi?appid=i8lk2wWxg65phhAawCwoRkW990Ya0QMBxmkTZaEIbaOFfym0fwVUwI.QtgO1Pw--"></script>
    <script type="text/javascript">
      var ymap;
      var markers = new Array();
      window.onload = function(){
        $("#pins").keyup(function(){
          // markerを消す
          for(var i=0,length=markers.length;i<length;i++){
            ymap.removeFeature(markers[i]);
          } 
          markers.length = 0;

          // markerを追加
          var pins = $("#pins").val().split(/\n/);
          for(var i=0,length=pins.length;i<length;i++){
            var pin = pins[i].split(",");
            var marker = new Y.Marker(new Y.LatLng(pin[0],pin[1]))
            markers.push(marker);
            ymap.addFeature(marker);
          }
        });
        ymap = new Y.Map("map", {
        configure : {
            doubleClickZoom : true,
            scrollWheelZoom : true,
            singleClickPan : true,
            dragging : true
          }
        });
        ymap.addControl(new Y.LayerSetControl());
        ymap.addControl(new Y.SliderZoomControlVertical());
        ymap.drawMap(new Y.LatLng(35.66572, 139.73100), 8, Y.LayerSetId.NORMAL);
      };
</script>
<div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="#">SpotMapper</a>
    <!--
    <ul class="nav">
      <li class="active"><a href="#">Home</a></li>
    </ul>
    -->
  </div>
</div>

<ul class="nav">
</ul>
<div class="container-fluid">
  <div class="row-fluid">
    <div class="span9">
      <!--Body content-->
      <div id="map" style="width:100%; height:600px"></div>
    </div>
    <div class="span3">
      <!--Sidebar content-->
      <div>
        <h2>SpotMapperとは？</h2>
        CSV形式の複数の緯度経度情報をもとに地図上にピンを立てるシンプルなサービスです．
        <h2>使い方</h2>
        下のボックスに "緯度,経度" 形式の情報を入力してください．
      </div>
      <textarea id="pins" rows="10" style="width:100%">35.64997652994234,139.72116702175174</textarea>
    </div>
  </div>
</div>
</body>
</html>
